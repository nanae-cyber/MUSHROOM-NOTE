// src/i18n.ts
export type Lang = "en" | "ja";

const dict: Record<Lang, Record<string, string>> = {
  en: {
    app_title: "Kinoko Field Notes",
    mode_quick: "Quick",
    mode_detail: "Detail",
    camera: "Camera",
    tap_to_shoot: "Tap to shoot and save locally (offline OK)",
    shoot: "Shoot",
    import_zip: "Import ZIP",
    export_zip: "Export ZIP",
    list_title: "Your captures",
    ai_pending: "AI: pending / off",
    photo_ready: "Ready",
    photo_none: "No photo yet",
    details_title: "Specimen Details",
    view: "View",
    hymenium: "Hymenium",
    gill_attachment: "Gill attachment",
    stipe: "Stipe",
    cap_diameter: "Cap diameter (mm)",
    habitat_tags: "Habitat tags (comma separated)",
    notes: "Notes",
    save: "Save",
    cancel: "Cancel",
    location_button: "Enable Location",
    heading_button: "Enable Heading (iOS)",
    take_photo: "Take Photo",
    encyclopedia: "Encyclopedia",
    calendar: "Calendar",
    map: "Map",
    select_capture_method: "Select Capture Method",
    close: "Close",
    camera_capture: "Camera",
    select_from_album: "From Album",
    footer_description: "Offline mushroom observation app. AI identification with premium plan.",
    contact: "Contact Us",
    privacy: "Privacy",
    terms: "Terms",
    refund_policy: "Refund Policy",
    prev_year: "Previous Year",
    next_year: "Next Year",
    prev_month: "Previous Month",
    next_month: "Next Month",
    search: "Search",
    year_view: "Year View",
    has_record: "Has Record",
    prediction_from_last_year: "Prediction from Last Year",
    search_by_name: "Search by name (Enter to confirm)",
    back: "Back",
    this_day_records: "Records on This Day",
    last_year_same_day: "Mushrooms Found on Same Day Last Year",
    today: "Today",
    loading: "Loading...",
    encyclopedia_title: "Encyclopedia",
    saved_records: "Saved mushroom records",
    advanced_search: "Advanced Search",
    no_records_yet: "No saved mushrooms yet",
    no_matching_records: "No matching records",
    sort_order: "Sort",
    newest_first: "Newest",
    oldest_first: "Oldest",
    by_name: "By Name",
    preview_record: "Preview record",
    mushroom_record: "Mushroom Record",
    ai_prediction: "AI Prediction",
    edit: "Edit",
    mushroom_name: "Mushroom Name",
    characteristics: "Characteristics",
    cap_color: "Cap Color",
    underside: "Underside",
    ring: "Ring",
    volva: "Volva",
    environment: "Environment",
    growth_pattern: "Growth Pattern",
    habitat: "Habitat",
    terrain: "Terrain",
    direction: "Direction",
    elevation: "Elevation",
    terrain_type: "Terrain Type",
    memo: "Memo",
    ai_result: "AI Prediction Result",
    candidate: "Candidate",
    other_notes: "Notes",
    no_details_yet: "No details yet. Click 'Edit' to add information.",
    delete_this_record: "Delete This Record",
    delete_confirmation: "Confirm Deletion",
    delete_warning: "Are you sure you want to delete this record?\nThis action cannot be undone.",
    delete: "Delete",
    delete_image: "Delete Image",
    delete_ai_result: "Delete AI Result",
    record_not_found: "Record not found",
    specimen_details: "Specimen Details",
    mushroom_name_placeholder: "e.g., Enter predicted mushroom name",
    cap_section: "Cap",
    cap_color_label: "Cap Color",
    cap_note_placeholder: "Additional notes about cap color",
    underside_label: "Underside",
    underside_note_placeholder: "Additional notes about underside",
    stipe_section: "Stipe",
    stipe_core_label: "Stipe Core",
    stipe_note_placeholder: "Additional notes about stipe",
    ring_label: "Ring",
    ring_note_placeholder: "Additional notes about ring",
    volva_label: "Volva",
    volva_note_placeholder: "Additional notes about volva",
    environment_section: "Environment",
    substrate_label: "Substrate",
    substrate_note_placeholder: "Additional notes about substrate",
    habitat_label: "Habitat",
    habitat_note_placeholder: "Additional notes about habitat",
    terrain_section: "Terrain Information",
    terrain_aspect_label: "Aspect",
    terrain_elevation_label: "Elevation (m)",
    terrain_type_label: "Terrain Type",
    terrain_note_label: "Terrain Notes",
    terrain_note_placeholder: "Additional notes about terrain",
    other_section: "Other",
    note_label: "Notes",
    note_placeholder: "Any other notes",
    add_photo: "Add Photo",
    extra_photos: "Additional Photos",
    select_option: "Select an option",
    capture_datetime: "Capture Date/Time",
    edit_capture_datetime: "Edit Capture Date/Time",
    weird_shape_question: "Is this an 'unusual-shaped mushroom'?",
    weird_shape_hint: "Check this for mushrooms with unusual shapes",
    saving: "Saving...",
    search_title: "Search",
    search_by_name_label: "Search by Name",
    search_by_name_placeholder: "Search by name (kana normalized)",
    filter_by_terrain: "Filter by Terrain",
    terrain_filter: "Terrain Filter",
    aspect: "Aspect",
    elevation_range: "Elevation",
    no_filter: "No Filter",
    weird_shape_mushroom: "Unusual-shaped Mushroom",
    search_results: "Search Results",
    clear: "Clear",
    record_preview: "Record Preview",
    terrain_detail_input: "Terrain Detail Input",
    aspect_search_placeholder: "e.g., SE, N, WSW",
    elevation_search_placeholder: "e.g., 300m, lowland, highland",
    terrain_type_search_placeholder: "e.g., ridge, valley, slope",
    upgrade_to_premium: "Upgrade to Premium",
    premium_plan: "Premium Plan",
    premium_features_title: "Premium Features",
    premium_feature_1: "AI mushroom identification",
    premium_feature_2: "Display last year's mushrooms on calendar",
    monthly_plan: "Monthly Plan",
    per_month: "/month",
    per_year: "/year",
    start_free_trial: "Start Free Trial",
    subscribe_now: "Subscribe Now",
    already_premium: "You are already a Premium member",
    manage_subscription: "Manage Subscription",
    cancel_subscription: "Cancel Subscription",
    cancel_confirmation: "Are you sure you want to cancel your subscription?",
    subscription_cancelled: "Your subscription has been cancelled.",
    contact_form_title: "Contact Us",
    contact_name: "Name",
    contact_name_placeholder: "Your name",
    contact_email: "Email",
    contact_email_placeholder: "your.email@example.com",
    contact_message: "Message",
    contact_message_placeholder: "Please enter your inquiry",
    confidence: "Confidence",
    save_this_candidate: "Save this candidate",
    save_as_mushroom_name: "Save as mushroom name",
    no_candidates: "No candidates found.",
    save_all_results: "Save All Results",
    ai_mock_notice: "※ Currently using mock responses. Set VITE_GEMINI_API_KEY in .env.local for real AI predictions.",
    saved_to_mushroom_name: "Saved as mushroom name",
    save_failed: "Save failed",
    ai_results_saved: "AI results saved",
    contact_send: "Send",
    contact_sending: "Sending...",
    contact_success: "Your message has been sent successfully!",
    contact_error: "Failed to send message. Please try again.",
  },
  ja: {
    app_title: "きのこフィールドノート",
    mode_quick: "撮影だけ",
    mode_detail: "詳細登録",
    camera: "カメラ",
    tap_to_shoot: "タップで撮影してローカル保存（オフラインOK）",
    shoot: "撮影",
    import_zip: "ZIP読み込み",
    export_zip: "ZIP書き出し",
    list_title: "記録一覧",
    ai_pending: "AI: 判定待ち / OFF",
    photo_ready: "準備OK",
    photo_none: "未選択",
    details_title: "個体の詳細",
    view: "撮影ビュー",
    hymenium: "子実層（ひだ/管孔など）",
    gill_attachment: "ひだの付き方",
    stipe: "柄（つば/つぼ等）",
    cap_diameter: "傘の直径（mm）",
    habitat_tags: "環境タグ（カンマ区切り）",
    notes: "メモ",
    save: "保存",
    cancel: "キャンセル",
    location_button: "位置の許可",
    heading_button: "方位の許可（iOS）",
    take_photo: "撮影する",
    encyclopedia: "図鑑",
    calendar: "カレンダー",
    map: "地図",
    select_capture_method: "撮影方法を選択",
    close: "閉じる",
    camera_capture: "カメラで撮影",
    select_from_album: "アルバムから選択",
    footer_description: "オフライン対応のきのこ観察アプリ。月額プランでAI同定サポート。",
    contact: "お問い合わせ",
    privacy: "プライバシー",
    terms: "利用規約",
    refund_policy: "返金ポリシー",
    prev_year: "前年",
    next_year: "翌年",
    prev_month: "前の月",
    next_month: "次の月",
    search: "検索",
    year_view: "年ビュー",
    has_record: "記録あり",
    prediction_from_last_year: "前年の記録から予測",
    search_by_name: "名前で検索（Enterで確定）",
    back: "戻る",
    this_day_records: "この日の記録",
    last_year_same_day: "昨年の同日に採れたきのこ",
    today: "今日",
    loading: "読み込み中…",
    encyclopedia_title: "図鑑",
    saved_records: "保存したきのこの記録",
    advanced_search: "詳細検索",
    no_records_yet: "まだ保存されたきのこはありません",
    no_matching_records: "該当する記録がありません",
    sort_order: "並び順",
    newest_first: "新しい順",
    oldest_first: "古い順",
    by_name: "名前順",
    preview_record: "記録をプレビュー",
    mushroom_record: "きのこの記録",
    ai_prediction: "AI判定",
    edit: "編集",
    mushroom_name: "きのこの名前",
    characteristics: "特徴",
    cap_color: "傘の色",
    underside: "傘の裏",
    ring: "つば",
    volva: "つぼ",
    environment: "環境",
    growth_pattern: "生え方",
    habitat: "環境",
    terrain: "地形",
    direction: "方角",
    elevation: "標高",
    terrain_type: "地形",
    memo: "メモ",
    ai_result: "AI判定結果",
    candidate: "候補",
    other_notes: "メモ",
    no_details_yet: "詳細は未入力です。右上の「編集」から追加できます。",
    delete_this_record: "この記録を削除",
    delete_confirmation: "削除の確認",
    delete_warning: "この記録を削除してもよろしいですか？\nこの操作は取り消せません。",
    delete: "削除する",
    delete_image: "画像を削除",
    delete_ai_result: "AI判定結果を削除",
    record_not_found: "記録が見つかりませんでした",
    specimen_details: "個体の詳細",
    mushroom_name_placeholder: "例：予測されるきのこの名前を入力してください",
    cap_section: "傘",
    cap_color_label: "傘の色",
    cap_note_placeholder: "傘の色について補足があれば記入",
    underside_label: "傘の裏",
    underside_note_placeholder: "傘の裏について補足があれば記入",
    stipe_section: "柄",
    stipe_core_label: "柄の中身",
    stipe_note_placeholder: "柄について補足があれば記入",
    ring_label: "つば",
    ring_note_placeholder: "つばについて補足があれば記入",
    volva_label: "つぼ",
    volva_note_placeholder: "つぼについて補足があれば記入",
    environment_section: "環境",
    substrate_label: "生え方",
    substrate_note_placeholder: "生え方について補足があれば記入",
    habitat_label: "生育環境",
    habitat_note_placeholder: "生育環境について補足があれば記入",
    terrain_section: "地形情報",
    terrain_aspect_label: "方角",
    terrain_elevation_label: "標高 (m)",
    terrain_type_label: "地形",
    terrain_note_label: "地形メモ",
    terrain_note_placeholder: "地形について補足があれば記入",
    other_section: "その他",
    note_label: "メモ",
    note_placeholder: "その他のメモがあれば記入",
    add_photo: "写真を追加",
    extra_photos: "追加写真",
    select_option: "選択してください",
    capture_datetime: "撮影日時",
    edit_capture_datetime: "撮影日時を編集",
    weird_shape_question: "もしかして『変な形のきのこ』ですか？",
    weird_shape_hint: "よく分からない形のきのこはこちらをチェック",
    saving: "保存中…",
    search_title: "検索",
    search_by_name_label: "名前で検索",
    search_by_name_placeholder: "名前で検索（かな同一視）",
    filter_by_terrain: "地形で絞り込む",
    terrain_filter: "地形フィルタ",
    aspect: "方角",
    elevation_range: "標高",
    no_filter: "指定なし",
    weird_shape_mushroom: "変な形のきのこ",
    search_results: "検索結果",
    clear: "クリア",
    record_preview: "記録プレビュー",
    terrain_detail_input: "地形 詳細入力",
    aspect_search_placeholder: "例: 南東, 北, 西南西",
    elevation_search_placeholder: "例: 300m, 低地, 高地",
    terrain_type_search_placeholder: "例: 尾根, 谷, 斜面",
    upgrade_to_premium: "プレミアムにアップグレード",
    premium_plan: "プレミアムプラン",
    premium_features_title: "プレミアム機能",
    premium_feature_1: "AIきのこ判定",
    premium_feature_2: "きのこカレンダーに昨年のきのこを表示",
    monthly_plan: "月額プラン",
    per_month: "/月",
    per_year: "/年",
    start_free_trial: "無料トライアルを開始",
    subscribe_now: "今すぐ登録",
    already_premium: "すでにプレミアム会員です",
    manage_subscription: "サブスクリプション管理",
    confidence: "信頼度",
    save_this_candidate: "この候補を保存",
    save_as_mushroom_name: "きのこの名前に保存",
    no_candidates: "候補が得られませんでした。",
    save_all_results: "結果をすべて保存",
    ai_mock_notice: "※ 現在はモック応答です。.env.local に VITE_GEMINI_API_KEY を設定すると本物のAI判定になります。",
    saved_to_mushroom_name: "をきのこの名前に保存しました",
    save_failed: "保存に失敗",
    ai_results_saved: "判定結果を保存しました",
    cancel_subscription: "解約する",
    cancel_confirmation: "本当にサブスクリプションを解約しますか？",
    subscription_cancelled: "サブスクリプションを解約しました。",
    contact_form_title: "お問い合わせ",
    contact_name: "お名前",
    contact_name_placeholder: "お名前を入力してください",
    contact_email: "メールアドレス",
    contact_email_placeholder: "your.email@example.com",
    contact_message: "お問い合わせ内容",
    contact_message_placeholder: "お問い合わせ内容を入力してください",
    contact_send: "送信",
    contact_sending: "送信中...",
    contact_success: "お問い合わせを送信しました！",
    contact_error: "送信に失敗しました。もう一度お試しください。",
  },
};

let current: Lang = (localStorage.getItem("lang") as Lang) || "ja";

export function t(key: string): string {
  return dict[current][key] ?? key;
}
export function getLang(): Lang {
  return current;
}
export function setLang(l: Lang) {
  current = l;
  localStorage.setItem("lang", l);
}
